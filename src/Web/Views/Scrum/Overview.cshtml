@using Web.Model
@using Platform.Enum

@{
    var tasks = ViewData["Tasks"] as List<TaskModel>;
}

@section breadcrumb{
    <div class="row">
        <ol class="breadcrumb">
            <li><a href="#">Scrum</a></li>
            <li class="active">Sprint Overview</li>
        </ol>
    </div>
}

<div class="row">
    <div class="page-header">
        <h1>Sprint Overview</h1>
    </div>
</div>

<div class="row">
    <div class="col-md-4">
        <div class="list-group">
            <a href="#" class="list-group-item">
                Pending
            </a>
            @foreach (var item in tasks.Where(o => o.ProjectTask.Status == Status.Pending).ToList())
            {
                <a target="_blank" href="~/Report/ProjectOverview?projectId=@Html.UrlEncoder.Encode(item.ProjectId)" class="list-group-item">
                    <div class="row">
                        <div class="col-md-3">@Html.Raw(item.projectName)</div>
                        <div class="col-md-3">@Html.Raw(item.ProjectTask.Name)</div>
                        <div class="col-md-3">@Html.Raw(item.UserName)</div>
                    </div>
                </a>
            }
        </div>
    </div>
    <div class="col-md-4">
        <div class="list-group">
            <a href="#" class="list-group-item active">
                Ongoing
            </a>
            @foreach (var item in tasks.Where(o => o.ProjectTask.Status == Status.Ongoing).ToList())
            {
                <a target="_blank" href="~/Report/ProjectOverview?projectId=@Html.UrlEncoder.Encode(item.ProjectId)" class="list-group-item">
                    <div class="row">
                        <div class="col-md-3">@Html.Raw(item.projectName)</div>
                        <div class="col-md-3">@Html.Raw(item.ProjectTask.Name)</div>
                        <div class="col-md-3">@Html.Raw(item.UserName)</div>
                    </div>
                </a>
            }
        </div>
    </div>
    <div class="col-md-4">
        <div class="list-group">
            <a href="#" class="list-group-item list-group-item-success">
                Done
            </a>
            @foreach (var item in tasks.Where(o => o.ProjectTask.Status == Status.Done).ToList())
            {
                <a target="_blank" href="~/Report/ProjectOverview?projectId=@Html.UrlEncoder.Encode(item.ProjectId)" class="list-group-item">
                    <div class="row">
                        <div class="col-md-3">@Html.Raw(item.projectName)</div>
                        <div class="col-md-3">@Html.Raw(item.ProjectTask.Name)</div>
                        <div class="col-md-3">@Html.Raw(item.UserName)</div>
                    </div>
                </a>
            }
        </div>
    </div>
</div>
